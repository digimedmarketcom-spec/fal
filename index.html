<!--
File: index.html
Purpose: A single-file webpage for Yalda greeting + "ÙØ§Ù„ Ø­Ø§ÙØ¸" button.
How to use:
 1) Put this file in the root of a GitHub repository (filename: index.html).
 2) Enable GitHub Pages for repository (branch: main, folder: / (root)).
 3) Share the URL: https://<your-username>.github.io/<repo-name>/

Customization:
 - Edit the <title> and the greeting text in the HTML.
 - Edit the `fortunes` array in the script to change/add Hafez verses.
 - You can share a specific fortune by linking to the page with ?i=N (0-based index).
-->

<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÛŒÙ„Ø¯Ø§ Ù…Ø¨Ø§Ø±Ú© â€” ÙØ§Ù„ Ø­Ø§ÙØ¸</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100..900&display=swap" rel="stylesheet" />
 <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#f59e0b;--muted:#94a3b8}
    *{box-sizing:border-box;font-family:Vazirmatn, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#001219 0%,#06202b 100%);color:#e6eef8}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:100%;max-width:760px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:16px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    header{display:flex;align-items:center;gap:16px}
    .moon{width:72px;height:72px;border-radius:50%;background:radial-gradient(circle at 35% 30%, #fff3c4, #ffd58a 20%, #ffd58a 22%, rgba(255,255,255,0.02) 60%);box-shadow:0 8px 30px rgba(245,158,11,0.14)}
    h1{margin:0;font-size:22px}
    p.lead{margin:8px 0 18px;color:var(--muted)}

    .actions{display:flex;gap:12px;flex-wrap:wrap}
    button, .link-btn{appearance:none;border:0;padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer}
    button.primary{background:linear-gradient(90deg,var(--accent),#fb923c);color:#071029}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    .fortune{margin-top:18px;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));min-height:110px;display:flex;align-items:center;justify-content:center;text-align:center;font-size:18px}
    .fortune small{display:block;margin-top:8px;color:var(--muted);font-size:13px}

    .footer{display:flex;justify-content:space-between;align-items:center;margin-top:16px;color:var(--muted);font-size:13px}

    @media (max-width:540px){.card{padding:18px}.moon{width:56px;height:56px}h1{font-size:18px}}

    /* simple fade animation when fortune changes */
    .fade-enter{opacity:0;transform:translateY(6px)}
    .fade-enter.fade-enter-active{opacity:1;transform:none;transition:all 320ms cubic-bezier(.2,.9,.3,1)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <header>
        <div class="moon" aria-hidden="true"></div>
        <div>
          <h1>Ù‡Ù…Ú©Ø§Ø±Ø¹Ø²ÛŒØ²ØŒ ÛŒÙ„Ø¯Ø§ØªÙˆÙ† Ù…Ø¨Ø§Ø±Ú©</h1>
          <p class="lead">Ø¯Ø± Ø¨Ù„Ù†Ø¯ØªØ±ÛŒÙ† Ø´Ø¨ Ø³Ø§Ù„ØŒ Ø¢Ø±Ø²ÙˆÛŒ Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ØªÙ†ÛŒ Ø³Ø§Ù„Ù… Ùˆ Ø¯Ù„ÛŒ Ø®ÙˆØ´ Ø§Ø³Øª. Ø¨ÛŒØ§ÛŒÛŒØ¯ Ø¨Ù‡ Ù†ÛŒØª Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø±ÙˆØ´Ù† Ùˆ Ù¾Ø±Ø§Ù…ÛŒØ¯ØŒ ØªÙØ£Ù„ÛŒ Ø¨Ù‡ Ø­Ø§ÙØ¸ Ø¨Ø²Ù†ÛŒÙ…!</p>
        </div>
      </header>

      <div style="margin-top:14px" class="actions">
        <button id="getBtn" class="primary">Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ù„ Ø­Ø§ÙØ¸</button>
        <button id="anotherBtn" class="ghost">ÛŒÚ© ÙØ§Ù„ Ø¯ÛŒÚ¯Ø±</button>
        <button id="copyBtn" class="ghost">Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ø§ÛŒÙ† ÙØ§Ù„</button>
      </div>

      <div id="fortuneBox" class="fortune" aria-live="polite">Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ù„ØŒ Ø±ÙˆÛŒ Â«Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ù„ Ø­Ø§ÙØ¸" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.</div>

      <div class="footer">
        <div>ğŸ“œØ¨Ø§ Ø¢Ø±Ø²ÙˆÛŒ Ø²Ù…Ø³ØªØ§Ù†ÛŒ Ú¯Ø±Ù… Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§- Ù†ÙˆÛŒÙ† Ø§ÛŒØ¯Ù‡ Ø¢Ù„ Ø·Ø¨ Ø§ÛŒØ±Ø§Ù†ÛŒØ§Ù†</div>
        <div>Share: <span id="shareHint">Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ØªØ§ Ù„ÛŒÙ†Ú© ÙØ§Ù„ Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯</span></div>
      </div>
    </div>
  </div>

  <script>
    // ====== ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ§Ù„â€ŒÙ‡Ø§ ======
    // Ø§ÛŒÙ† Ø¢Ø±Ø§ÛŒÙ‡ Ø±Ø§ Ø¨Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´ØŒ Ø­Ø°Ù ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.
    const fortunes = [
      {text: 'Ø¯ÙˆØ´ Ø¯ÛŒØ¯Ù… Ú©Ù‡ Ù…Ù„Ø§ÛŒÚ© Ø¯Ø± Ù…ÛŒØ®Ø§Ù†Ù‡ Ø²Ø¯Ù†Ø¯ â€” Ú¯Ù„ Ø¢Ø¯Ù… Ø¨Ø³Ø±Ø´ØªÙ†Ø¯ Ùˆ Ø¨Ù‡ Ù¾ÛŒÙ…Ø§Ù†Ù‡ Ø²Ø¯Ù†Ø¯', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ù‡Ø± Ø¢Ù† Ú©Ø³ Ú©Ù‡ Ù†Ø§Ù† Ø§Ø² Ø¹Ù…Ù„ Ø®ÙˆÛŒØ´ Ø®ÙˆØ±Ø¯ â€” Ø¨Ø± Ø¢Ø±Ø¯ Ø±Ù†Ø¬ Ù¾Ø§Ú©Ø§Ù† Ù†Ù…ÛŒâ€ŒØ®ÙˆØ±Ø¯', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ø¨ÛŒØ§ Ú©Ù‡ ØªØ±Ú© ÙÙ„Ú© Ø®ÙˆØ§Ù†Ø¯ Ø§ÛŒÙ† Ù‚ØµÙ‡Ù” ØºÙ… â€” Ù‚ØµÙ‡Ù” Ø¢Ù†Ú©Ù‡ Ù†Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ø¯ Ø¬Ù…Ø§Ù„ Ø¯ÙˆØ³Øª', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ú†ÙˆÙ† Ø¨Ù‡ Ù…Ø§ Ø±Ø³ÛŒØ¯ Ø¢ØªØ´ Ù‡Ø¬Ø±Ø§Ù† ØªÙˆ â€” Ù‡Ø± Ú†Ù‡ Ø¯Ø± Ø¹Ø§Ù„Ù… Ø¨ÙˆØ¯ Ø¨ÛŒâ€ŒØ§Ø«Ø± Ø´Ø¯', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ø¨ÛŒØ¹Ù‚Ù„ Ù†Ø¨Ù†Ø¯Ø¯ Ú©Ø³ÛŒ Ø®Ø§Ø·Ø± Ø¨Ù‡ Ø¯ÙˆØ³Øª â€” Ù‡Ø± Ú©Ø¬Ø§ ÛŒØ§Ø±ÛŒ Ø±Ø³Ø§Ù†Ø¯ Ø­Ù‚ Ø´Ù†Ø§Ø³ÛŒ Ø¨ÙˆØ¯', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ø¯Ù„ Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ø² Ø¯Ø³ØªÙ…ØŒ ØµØ§Ø­Ø¨ Ø¯Ù„Ø§Ù† Ø®Ø¯Ø§ Ø±Ø§ â€” Ø¯Ø±Ù…Ø§Ù†Ø¯Ú¯ÛŒØ³Øª Ù…Ø±Ø§ Ø§ÛŒÙ† ÙØ³ÙˆÙ†Ù ØªÙˆ', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ø®Ø±Ù‚Ù‡Ù” ØµÙˆÙÛŒØ§Ù† Ø¨Ù‡ ØµØ±Ù Ø±ÙˆØ²ÛŒØ³Øª â€” ÛŒÙˆØ³Ù Ú¯Ù…Ú¯Ø´ØªÙ‡ Ø¨Ø§Ø² Ø¢ÛŒØ¯ Ø¨Ù‡ Ú©Ù†Ø¹Ø§Ù† ØºÙ… Ù…Ø®ÙˆØ±', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ø¯Ù„Ø§ Ø¯ÛŒØ¯ÛŒ Ú©Ù‡ Ø±Ø³ÙˆØ§ Ø´Ø¯Ù… Ø§Ø² Ø¨Ø³ Ù‡ÙˆØ´ØªÙ… â€” Ù‡Ø± Ú©Ù‡ Ø±Ø§ Ù†Ø§Ù†ÛŒ Ù†ÛŒØ³Øª Ø¨Ø±ÙˆÙ…Ø¯ Ø¨Ø± Ø¹Ø´Ù‚Ù…', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'Ù‡Ø± Ù†ÙØ³ÛŒ Ú©Ù‡ ÙØ±Ùˆ Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ù…Ù…Ø¯ Ø­ÛŒØ§Øª Ø§Ø³Øª â€” Ú†ÙˆÙ† Ù†Ø§Ø¦ÛŒÚ©ÛŒ Ú©Ù†ÛŒØŒ Ù†ÛŒÚ©ÛŒ Ø§Ø² ØªÙˆØ³Øª Ø¨Ø§Ø²', ref: 'Ø­Ø§ÙØ¸'},
      {text: 'ØªÙˆ Ø±Ø§ Ú†Ù‡ Ø¯ÛŒØ¯Ù… Ú©Ù‡ Ø¨Ù‡ Ø¬Ø§Ù† Ùˆ Ø¬Ù‡Ø§Ù†ÛŒ Ø¯ÙˆØ³ØªØª Ø¯Ø§Ø±Ù… â€” Ø®Ø¯Ø§ Ú©Ù†Ø¯ Ú©Ù‡ Ù‡Ù…ÛŒØ´Ù‡ ÛŒØ§Ø±ÛŒ Ø¨Ø±Ø³Ø§Ù†Ø¯', ref: 'Ø­Ø§ÙØ¸'}
    ];

    // ====== helpers ======
    const el = id => document.getElementById(id);
    const fortuneBox = el('fortuneBox');
    const getBtn = el('getBtn');
    const anotherBtn = el('anotherBtn');
    const copyBtn = el('copyBtn');
    const shareHint = el('shareHint');

    function showFortune(index){
      const f = fortunes[index];
      if(!f) return;
      // animate
      fortuneBox.classList.remove('fade-enter');
      void fortuneBox.offsetWidth; // force reflow
      fortuneBox.classList.add('fade-enter');

      fortuneBox.innerHTML = `<div><strong>${escapeHtml(f.text)}</strong><small> â€” ${escapeHtml(f.ref)}</small></div>`;
      // update URL so it can be shared
      const base = location.origin + location.pathname;
      const newUrl = base + '?i=' + index;
      history.replaceState(null, '', newUrl);
      shareHint.textContent = 'Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© ÙØ§Ù„ØŒ Ø±ÙˆÛŒ Â«Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ø§ÛŒÙ† ÙØ§Ù„Â» Ø¨Ø²Ù†ÛŒØ¯';
    }

    function getRandomIndex(){
      return Math.floor(Math.random() * fortunes.length);
    }

    function copyToClipboard(text){
      if(navigator.clipboard && navigator.clipboard.writeText){
        return navigator.clipboard.writeText(text);
      } else {
        // fallback
        const ta = document.createElement('textarea');
        ta.value = text; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); }catch(e){}
        ta.remove();
        return Promise.resolve();
      }
    }

    function escapeHtml(s){
      return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    }

    // ====== events ======
    getBtn.addEventListener('click', ()=>{
      const idx = getRandomIndex();
      showFortune(idx);
    });

    anotherBtn.addEventListener('click', ()=>{
      const idx = getRandomIndex();
      showFortune(idx);
    });

    copyBtn.addEventListener('click', ()=>{
      const url = location.href;
      copyToClipboard(url).then(()=>{
        copyBtn.textContent = 'Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯ âœ…';
        setTimeout(()=>{ copyBtn.textContent = 'Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ø§ÛŒÙ† ÙØ§Ù„'; }, 2500);
      });
    });

    // show specific fortune if ?i=N present
    (function loadFromQuery(){
      const params = new URLSearchParams(location.search);
      const i = params.get('i');
      if(i !== null){
        const n = parseInt(i,10);
        if(!isNaN(n) && n >=0 && n < fortunes.length){
          showFortune(n);
        }
      }
    })();

    // accessibility: keyboard shortcuts
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter') getBtn.click();
      if(e.key.toLowerCase() === 'r') anotherBtn.click();
    });
  </script>
</body>
</html>
